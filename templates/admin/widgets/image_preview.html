{% load i18n %}

{% if widget.is_initial %}
<div style="margin-bottom: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px; border: 2px solid #e9ecef;">
    <p style="margin: 0 0 10px 0; font-weight: bold; color: #495057;">
        ğŸ“· Image actuelle:
    </p>
    <a href="{{ widget.value.url }}" target="_blank">
        <img src="{{ widget.value.url }}" 
             style="max-width: {{ widget.preview_width|default:'300' }}px; 
                    max-height: {{ widget.preview_height|default:'200' }}px; 
                    object-fit: contain; 
                    border-radius: 8px; 
                    border: 1px solid #dee2e6; 
                    background: white; 
                    padding: 5px;" />
    </a>
    <br>
    <a href="{{ widget.value.url }}" target="_blank" 
       style="display: inline-block; margin-top: 10px; padding: 8px 16px; 
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
              color: white; text-decoration: none; border-radius: 6px; 
              font-size: 13px; font-weight: 500;">
        ğŸ” Voir en taille rÃ©elle
    </a>
</div>
{% endif %}

<p class="file-upload">
    {% if widget.is_initial %}
        {{ widget.initial_text }}: <a href="{{ widget.value.url }}">{{ widget.value }}</a>
        {% if not widget.required %}
            <span class="clearable-file-input">
                <input type="checkbox" name="{{ widget.checkbox_name }}" id="{{ widget.checkbox_id }}"{% if widget.attrs.disabled %} disabled{% endif %}>
                <label for="{{ widget.checkbox_id }}">{{ widget.clear_checkbox_label }}</label>
            </span>
        {% endif %}
        <br>
        {{ widget.input_text }}:
    {% endif %}
    <input type="{{ widget.type }}" name="{{ widget.name }}"{% include "django/forms/widgets/attrs.html" %}>
</p>
